<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CTF Announcer Panel</title>

  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
  <div class="container">
    <h1>ðŸ“£ CTF Announcement</h1>
    <p class="subtitle">
      Discord announcer dashboard<br>
      <small>
        Supports <strong>Markdown</strong> & optional <strong>image upload</strong>
      </small>
    </p>

    <form method="POST"
          enctype="multipart/form-data"
          onsubmit="sendAnnouncement(event)">

      <label>Admin Key</label>
      <input type="password" name="key" placeholder="admin secret key" required>

      <label>Title (optional)</label>
      <input name="title" placeholder="Judul pengumuman">

      <label>
        Message (Markdown supported)
        <span class="hint">
          *bold*, _italic_, `code`, ```block```, # heading
        </span>
      </label>
      <textarea
        id="message"
        name="message"
        placeholder="Tulis pengumuman di sini..."
        oninput="updatePreview()"></textarea>

      <label>
        Image (optional)
        <span class="hint">
          PNG / JPG / GIF â€” akan dikirim sebagai attachment ke Discord
        </span>
      </label>
      <input type="file" name="image_file" accept="image/*">

      <button type="submit">ðŸš€ SEND ANNOUNCEMENT</button>
    </form>

    <section class="preview-wrapper">
      <h3>Live Preview</h3>
      <div id="preview" class="preview">
        <em>Preview markdown akan muncul di siniâ€¦</em>
      </div>
    </section>
  </div>

  <div id="toast"></div>

  <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>

