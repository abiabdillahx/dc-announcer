{% extends "base.html" %}
{% block title %}POROS Announcer{% endblock %}

{% block content %}
<h1>ðŸ“£ POROS Announcer</h1>
<p class="subtitle">Discord announcement dashboard</p>

<form method="POST" enctype="multipart/form-data" onsubmit="sendAnnouncement(event)" class="panel">

  <div class="grid">
    <div>
      <label>Title</label>
      <input name="title" placeholder="Announcement title">
    </div>

    <div>
      <label>Image (optional)</label>
      <input type="file" name="image_file" accept="image/*" onchange="previewImage(event)">
    </div>
  </div>

  <label>Message (Markdown)</label>
  <textarea id="message" name="message" oninput="updatePreview()"></textarea>

  <button type="submit">SEND ANNOUNCEMENT</button>
</form>

<section class="preview-wrapper">
  <h3>Live Preview</h3>
  <div class="preview">
    <div id="preview-text"><em>kosong</em></div>
    <img id="preview-image" class="preview-image" hidden>
  </div>
</section>

<div id="toast"></div>

<script src="{{ url_for('static', filename='js/app.js') }}"></script>
{% endblock %}

